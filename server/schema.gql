# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

type ChatRoom {
  _id: ID!
  name: String!
  description: String
  users: [User!]
  owner: User!
  verified: Boolean!
  latitude: Float!
  longitude: Float!
  isPrivate: Boolean!
}

input CreateChatRoomInput {
  name: String!
  description: String
  latitude: Float!
  longitude: Float!
  isPrivate: Boolean!
}

input CreateUserInput {
  email: String!
  password: String!
  profile: ProfileInput!
}

"""
The javascript `Date` as string. Type represents date and time as the ISO Date string.
"""
scalar DateTime

type DirectChatRoom {
  _id: ID!
  users: [User!]!
}

type FriendRequest {
  _id: ID!
  fromUser: User!
  toUser: User!
}

type Message {
  _id: ID!
  msg: String!
  chatroom: ChatRoom!
  from: User
  guestId: String
  avatarUrl: String
  guestName: String
  createdAt: DateTime!
  updatedAt: DateTime!
}

input MessageInput {
  guestId: String
  guestName: String
  msg: String!
  chatroom: ID!
  nickname: String!
  avatarUrl: String
}

type Mutation {
  createUser(user: CreateUserInput!): ID!
  addToFriends(friendId: String!): User!
  addNotification(notificationId: String!, userId: String!): Notification!
  updateUser(value: String!, key: String!): User!
  removeFromFriends(friendId: String!): User!
  removeNotification(notificationId: String!): Notification!

  """Adds new message to chatroom"""
  addMessage(message: MessageInput!): ID

  """Adds user to existing chatroom"""
  joinToChatroom(chatroom: String!): ChatRoom!

  """Adds selected user to existing chatroom"""
  addToChatroom(friendId: String!, chatroom: String!): ChatRoom!

  """Removes selected user from existing chatroom"""
  removeFromChatroom(friendId: String!, chatroom: String!): ChatRoom!

  """Creates and return new chatroom id"""
  createNewChatroom(chatroom: CreateChatRoomInput!): ID!

  """Creates and return new direct chatroom id"""
  createNewDirectChatRoom(friendId: String!): DirectChatRoom!

  """Creates and return new Notification"""
  createNotification(type: String!, url: String!, description: String!): Notification!
  deleteNotification(notificationId: String!): Notification!
  createFriendRequest(toUser: String!, fromUser: String!): FriendRequest!
  deleteFriendRequest(friendRequestId: String!): FriendRequest!
}

type Notification {
  _id: ID!
  description: String!
  url: String!
  type: String!
  createdAt: DateTime!
}

type Profile {
  firstName: String!
  lastName: String!
}

input ProfileInput {
  firstName: String!
  lastName: String!
}

type Property {
  address: String!
  placeId: String!
  rentAmount: Float!
}

input PropertyInput {
  address: String!
  placeId: String!
  rentAmount: Float!
}

type Query {
  me: User!
  getUserById(_id: String!): User!

  """Get all messages for specified chatroom by chatroomId"""
  messages(chatroom: String!): [Message!]

  """Get ChatRoom by id"""
  chatroom(_id: String!): ChatRoom!

  """Get list of all chatrooms"""
  chatrooms: [ChatRoom!]!

  """Get list of all user chatrooms"""
  myChatrooms: [ChatRoom!]!

  """Get user and his friend Dchatrom"""
  getDirectChatRoom(friendId: String!): DirectChatRoom

  """Get direct chatrom by id"""
  getDirectChatRoomById(_id: String!): DirectChatRoom!
  getNotification(notificationId: String!): Notification!
  getFriendRequest(toUser: String!, fromUser: String!): FriendRequest!
}

enum Role {
  User
  Admin
}

type User {
  _id: ID!
  profile: Profile!
  properties: [Property!]
  roles: [Role!]!
  createdAt: DateTime!
  updatedAt: DateTime!
  friends: [User!]
  avatarUrl: String
  notifications: [Notification!]
  firstName: String!
  lastName: String!
}
